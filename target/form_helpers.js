var fwForm={initAjaxSubmit:function(e){var e=jQuery.extend({selector:"form[data-fw-form-id]",ajaxUrl:"undefined"!=typeof ajaxurl?ajaxurl:"undefined"!=typeof fwAjaxUrl?fwAjaxUrl:"/wp-admin/admin-ajax.php",loading:function(e,r){e.$form.css("position","relative"),e.$form.find("> .fw-form-loading").remove(),r&&e.$form.append('<div class="fw-form-loading" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.1);"></div>')},onErrors:function(e,a){r?fwForm.backend.showFlashMessages(fwForm.backend.renderFlashMessages({error:a.errors})):jQuery.each(a.errors,function(r,a){a='<p class="form-error" style="color: #9b2922;">{message}</p>'.replace("{message}",a);var s=e.$form.find('[name="'+r+'"]').last();s.length||(s=e.$form.find('[name^="'+r+'["]').last()),s.length?s.parent().after(a):e.$form.prepend(a)})},hideErrors:function(e){e.$form.find(".form-error").remove()},onAjaxError:function(e,r){console.error(r.jqXHR,r.textStatus,r.errorThrown)},onSuccess:function(e,a){if(r)fwForm.backend.showFlashMessages(fwForm.backend.renderFlashMessages(a.flash_messages));else{var s=fwForm.frontend.renderFlashMessages(a.flash_messages);s.length||(s="<p>Success</p>"),e.$form.fadeOut(function(){e.$form.html(s).fadeIn()}),e.$form.on("submit",function(e){e.preventDefault(),e.stopPropagation()})}}},e||{}),r="undefined"!=typeof adminpage&&jQuery(document.body).hasClass("wp-admin"),a=!1;jQuery(document.body).on("submit",e.selector,function(r){if(r.preventDefault(),a)return void console.warn("Working... Try again later.");var s=jQuery(this);if(!s.is("form[data-fw-form-id]"))return void console.error("This is not a FW_Form","Selector:".opts.selector,"Form:",s);var o=s.find(":submit:focus");o.length||(o=s.find("[clicked]:submit")),s.find("[clicked]:submit").removeAttr("clicked");var n={$form:s,$submitButton:o};e.hideErrors(n),e.loading(n,!s.hasClass("fw-silent-submit")),s.removeClass("fw-silent-submit"),a=!0;s.serialize();jQuery.ajax({type:"POST",url:e.ajaxUrl,data:s.serialize()+(o.length?"&"+o.attr("name")+"="+o.attr("value"):""),dataType:"json"}).done(function(r){a=!1,e.loading(n,!1),r.success?e.onSuccess(n,r.data):e.onErrors(n,r.data)}).fail(function(r,s,o){a=!1,e.loading(n,!1),e.onAjaxError(n,{jqXHR:r,textStatus:s,errorThrown:o})})})},backend:{showFlashMessages:function(e){for(var r=jQuery(".wrap h2:first");r.next().is(".fw-flash-messages, .fw-flash-message, .updated, .update-nag, .error");)r.next().remove();r.after('<div class="fw-flash-messages">'+e+"</div>"),jQuery(document.body).animate({scrollTop:0},300)},renderFlashMessages:function(e){var r=[],a=[],s="";return jQuery.each(e,function(e,o){switch(a=[],e){case"error":s="error";break;case"warning":s="update-nag";break;default:s="updated"}jQuery.each(o,function(e,r){a.push('<div class="'+s+' fw-flash-message"><p>'+r+"</p></div>")}),a.length&&r.push('<div class="fw-flash-type-'+e+'">'+a.join('</div><div class="fw-flash-type-'+e+'">')+"</div>")}),r.join("")}},frontend:{renderFlashMessages:function(e){var r=[],a=[];return jQuery.each(e,function(e,s){a=[],jQuery.each(s,function(e,r){a.push('<li class="fw-flash-message">'+r+"</li>")}),a.length&&r.push('<ul class="fw-flash-type-'+e+'">'+a.join('</ul><ul class="fw-flash-type-'+e+'">')+"</ul>")}),r.join("")}}};jQuery(function(e){fwForm.initAjaxSubmit({selector:'form[data-fw-form-id][data-fw-ext-forms-type="contact-forms"]',ajaxUrl:"http://localhost:8887/website/wordpress/wp-content/themes/twentysixteen/db.php"})});